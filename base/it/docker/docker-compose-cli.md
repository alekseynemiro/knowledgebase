---
tags:
  - Docker
  - Docker Compose
  - Virtualization
  - CI/CD
  - DevOps
  - FAQ
  - Виртуализация
  - Развертывание
  - Автоматизация
---

# Docker Compose CLI

**Docker Compose** — это инструмент для запуска многоконтейнерных приложений.

Конфигурация **Docker Compose** определяется в файле **YAML**. По умолчанию — [docker-compose.yaml](docker-compose-yaml).

По умолчанию команды `docker compose` должны запускаться в каталоге, где находится файл конфигурации.

## Как запустить контейнер?

```bash
docker compose run -d --name MY_CONTAINER -p 80:8080 -p 443:8443 -e ASPNETCORE_URLS="http://+:5080;https://+:5443"
```

* `-d`, `--detach` — фоновый режим;
* `-e`, `--env` — позволяет задать переменные окружения;
* `-p`, `--publish` — перенаправляет порты (`host_port:container_port`);
* `--name` — задаёт имя контейнеру;

## Как запустить/перезапустить/остановить службы контейнера?

Самый простой способ — использовать команды `up` и `down`:

```bash
docker compose up -d
```

* `-d`, `--detach` — фоновый режим;
* `--no-build` — запрещает создание образа;
* `--no-recreate` — запрещает пересоздание контейнера, если он уже существует;
* `--no-start` - запрещает запуск служб после создания;
* `-w`, `--watch` - позволяет автоматически перезапускать контейнеры при изменении конфигурации;

```bash
docker compose down
```

* `--rmi` — удалить образы, используемые службами (`all`|`local`).

Также можно использовать стандартные команды: `start`, `restart` и `stop`:

```bash
docker compose restart
```

## Как получить список контейнеров?

```bash
docker compose ls
```

* `-a`, `--all` — включить остановленные контейнеры;
* `--format` — `table` (по умолчанию) или `json`;

Также доступна стандартная команда `ps`:

```bash
docker compose ps --all --no-trunc
```

## Как удалить контейнеры?

```bash
docker compose rm
```

* `-f`, `--force` — удалить без лишних вопросов;
* `-s`, `--stop` — остановить перед удалением;
